(this["webpackJsonp@School-managment-system"]=this["webpackJsonp@School-managment-system"]||[]).push([[61],{1648:function(e,t,n){"use strict";n.r(t);var a=n(18),o=n(9),r=n.n(o),i=n(16),l=n(14),c=n(1),s=n(108),u=n(58),d=n(645),p=n(181),h=n(575),j=n(561),m=n(569),b=n(644),x=n(1711),f=n(564),O=n(572),v=(n(860),n(120)),g=n(0),y=Object(d.a)((function(e){return{root:{"& .MuiInputBase-input":{height:"auto",minHeight:"100px",padding:e.spacing(2)},"& .MuiInputBase-multiline":{lineHeight:1.2}}}})),C=[{label:"Academic Issues",value:1},{label:"Behavior Issues",value:2},{label:" Harassment or Bullying",value:3},{label:"Safety Issues",value:4}],w=u.f({});t.default=function(){var e=y(),t=Object(c.useState)([]),n=Object(l.a)(t,2),o=n[0],u=n[1],d=Object(c.useState)([]),S=Object(l.a)(d,2),_=S[0],B=S[1],k=function(e,t){u(t)},T=function(){u(_)},I=o.map((function(e){return e.id}));console.log(I,o);var N=function(){u([])};return Object(c.useEffect)((function(){(function(){var e=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.getCall("list/search");case 2:t=e.sent,B(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Complaint Form"}),Object(g.jsx)(s.c,{initialValues:{ComplaintAgaint:"",ComplaintNo:"",names:"",date:"",category:"",description:"",Complaintby:"",photo:null,confidentiality:!1},validationSchema:w,onSubmit:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n="",o.forEach((function(e){n=e.id+","+n})),n=n.slice(0,-1),a={id:n},(i=new FormData).append("ComplaintNo",t.ComplaintNo),i.append("names",t.names),i.append("date",t.date),i.append("category",t.category),i.append("description",t.description),i.append("Complaintby",t.Complaintby),i.append("ComplaintAgaint",JSON.stringify(a)),i.append("photo",t.photo),i.append("confidentiality",t.confidentiality),console.log(i),e.prev=16,e.next=19,v.a.postFormData("complains/complaits",i);case 19:l=e.sent,console.log("res",l),console.log(id,a),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[16,24]])})));return function(t){return e.apply(this,arguments)}}(),children:function(t){var n=t.isSubmitting,r=t.handleChange,i=t.handleSubmit,l=t.values,c=t.errors,u=t.touched,d=t.setFieldValue;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(p.a,{children:Object(g.jsx)(h.a,{style:{padding:16},children:Object(g.jsxs)("form",{onSubmit:i,children:[Object(g.jsx)(p.a,{sx:{mt:2},children:Object(g.jsx)(j.a,{required:!0,id:"names",name:"names",label:"Name",fullWidth:!0,value:l.names,onChange:r,error:Boolean(u.names&&c.names),helperText:u.names&&c.names})}),Object(g.jsx)(p.a,{sx:{mt:2},children:Object(g.jsx)(j.a,{required:!0,id:"ComplaintNo",name:"ComplaintNo",label:"Complaint No",fullWidth:!0,value:l.ComplaintNo,onChange:r})}),Object(g.jsx)(p.a,{sx:{mt:2},children:Object(g.jsx)(j.a,{required:!0,id:"Complaintby",name:"Complaintby",label:"Complaint By",fullWidth:!0,value:l.Complaintby,onChange:r})}),Object(g.jsxs)(p.a,{style:{display:"flex",alignItems:"start",flexDirection:"column"},children:[Object(g.jsxs)(p.a,{style:{flexDirection:"row",marginLeft:8},children:[Object(g.jsx)(m.a,{control:Object(g.jsx)(b.a,{checked:o.length===_.length,onChange:T}),label:"Select All"}),Object(g.jsx)(m.a,{control:Object(g.jsx)(b.a,{checked:0===o.length,onChange:N}),label:"Clear All"})]}),Object(g.jsx)(x.a,{id:"ComplaintAgaint",style:{margin:4,width:"95%"},multiple:!0,getOptionLabel:function(e){return e.name},options:_,value:o,onChange:k,renderInput:function(e){return Object(g.jsx)(j.a,Object(a.a)({fullWidth:!0,label:"Complaint Againt",name:"ComplaintAgaint",variant:"outlined"},e))}})]}),Object(g.jsxs)(p.a,{sx:{display:"flex",flexWrap:"wrap"},children:[Object(g.jsx)(p.a,{sx:{mt:2,width:"25ch",marginRight:5},children:Object(g.jsx)(j.a,{id:"date",name:"date",label:"Date",value:l.date,type:"datetime-local",defaultValue:"2013-05-24T10:30",fullWidth:!0,onChange:r,InputLabelProps:{shrink:!0}})}),Object(g.jsx)(f.a,{sx:{mt:2},children:Object(g.jsx)(j.a,{labelId:"category",select:!0,variant:"outlined",SelectProps:{native:!0},value:l.category,onFocus:r,onChange:r,id:"category",label:"Category",name:"category",children:C.map((function(e){return Object(g.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]}),Object(g.jsxs)(p.a,{sx:{mt:2},children:[Object(g.jsx)(j.a,{name:"description",label:"Message",variant:"outlined",multiline:!0,rows:4,value:l.description,onChange:r,fullWidth:!0,className:e.root}),Object(g.jsx)(s.a,{name:"description"})]}),Object(g.jsx)(p.a,{sx:{mt:2},children:Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"photo",children:"Choose a file:"}),Object(g.jsx)("input",{id:"photo",name:"photo",type:"file",onChange:function(e){d("photo",e.currentTarget.files[0])}}),Object(g.jsx)(s.a,{name:"photo"})]})}),Object(g.jsx)("label",{htmlFor:"confidentiality",children:"Keep complaint confidential:"}),Object(g.jsx)(s.b,{type:"checkbox",name:"confidentiality"}),Object(g.jsx)(s.a,{name:"confidentiality"}),Object(g.jsx)(O.a,{variant:"contained",type:"submit",disabled:n,children:"Submit"})]})})})})}})]})}},598:function(e,t,n){"use strict";var a=n(20),o=n(0),r=Object(a.a)(Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download");t.a=r},602:function(e,t,n){"use strict";var a=n(20),o=n(0),r=Object(a.a)(Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload");t.a=r},606:function(e,t,n){"use strict";n(18),n(607)},607:function(e,t,n){"use strict";var a=n(45),o=n.n(a),r=(n(96),JSON.parse(localStorage.getItem("accessToken")));t.a=function(){var e=o.a.create({baseURL:"http://localhost:8000/",headers:{authorization:"bearer ".concat(r)}});return e.interceptors.response.use((function(e){return new Promise((function(t,n){t(e)}))}),(function(e){return e.response?(401==e.response.status&&console.log("your are not logedin"),Promise.reject(e)):new Promise((function(t,n){n(e)}))})),e}},616:function(e,t,n){"use strict";var a=n(20),o=n(0),r=Object(a.a)(Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus");t.a=r},645:function(e,t,n){"use strict";var a=n(2),o=n(1678),r=n(51);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(e,Object(a.a)({defaultTheme:r.a},t))}},860:function(e,t,n){"use strict";n(1);var a=n(647),o=n(500),r=n(181),i=n(572),l=n(663),c=n(502),s=n(22),u=n(602),d=n(598),p=n(220),h=n(501),j=n(552),m=n(616),b=n(9),x=n.n(b),f=n(16),O=n(58),v=n(108),g=(n(45),n(892)),y=n(561),C=n(568),w=(n(606),n(120)),S=n(0),_=function(e){var t=e.setOpen,n=e.rows;return console.log("rows",n),Object(S.jsx)(v.c,{initialValues:{name:"",phone:"",license_no:"",vehicle_no:"",route_name:""},validationSchema:O.f().shape({name:O.h().required("Name is required")}),onSubmit:function(){var e=Object(f.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:w.a.postCall("tranport/transport",{name:n.name,phone:n.phone,License_no:n.license_no,vehicle_no:n.vehicle_no,route_name:n.route_name}).then((function(e){e.json})).then((function(e){console.log(e)})),t(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,n=e.handleBlur,a=e.handleChange,l=e.handleSubmit,c=e.isSubmitting,s=e.touched,u=e.values;return Object(S.jsxs)("form",{noValidate:!0,onSubmit:l,children:[Object(S.jsx)(o.a,{style:{fontSize:20,color:"black"},children:Object(S.jsx)("strong",{children:"Add Transport"})}),Object(S.jsxs)(g.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},spacing:2,children:[Object(S.jsx)(y.a,{autoFocus:!0,error:Boolean(s.name&&t.name),fullWidth:!0,helperText:s.name&&t.name,label:"Name",margin:"normal",id:"name",onBlur:n,onChange:a,value:u.name,variant:"outlined"}),Object(S.jsx)(y.a,{fullwidth:!0,error:Boolean(s.phone&&t.phone),fullWidth:!0,helperText:s.phone&&t.phone,label:"Mobile",margin:"normal",name:"phone",onBlur:n,onChange:a,type:"phone",value:u.email,variant:"outlined"}),Object(S.jsx)(y.a,{error:Boolean(s.license_no&&t.license_no),helperText:s.license_no&&t.license_no,fullWidth:!0,id:"license_no",label:"LICENSE NO",margin:"normal",onBlur:n,onChange:a,type:"text",value:u.license_no,variant:"outlined"})," ",Object(S.jsx)(y.a,{error:Boolean(s.vehicle_no&&t.vehicle_no),fullWidth:!0,helperText:s.vehicle_no&&t.vehicle_no,label:"vehicle",margin:"normal",id:"vehicle_no",onBlur:n,onChange:a,type:"text",value:u.vehicle_no,variant:"outlined"}),Object(S.jsx)(y.a,{error:Boolean(s.route_name&&t.route_name),fullWidth:!0,helperText:s.route_name&&t.route_name,label:"Route",margin:"normal",id:"route_name",onBlur:n,onChange:a,type:"text",value:u.route_name,variant:"outlined"}),t.submit&&Object(S.jsx)(r.a,{sx:{mt:3},children:Object(S.jsx)(C.a,{error:!0,children:t.submit})}),Object(S.jsx)(r.a,{sx:{mt:2},children:Object(S.jsx)(i.a,{color:"primary",disabled:c,sx:{width:"211px"},size:"large",type:"submit",variant:"contained",children:"Add Trasport"})})]})]})}})},B=n(133),k={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,marginTop:2},T=function(e){var t=e.open,n=e.setOpen,a=(e.text,e.rows),o=Object(B.a)();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(h.a,{maxWidth:!!o.compact&&"xl",children:[Object(S.jsx)(i.a,{onClick:function(){return n(!0)},color:"primary",startIcon:Object(S.jsx)(m.a,{fontSize:"small"}),sx:{m:1},variant:"contained",children:"Add New"}),Object(S.jsx)(j.a,{open:t,onClose:function(){return n(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(S.jsx)(r.a,{sx:k,children:Object(S.jsx)(_,{rows:a,setOpen:n})})})]})})};t.a=function(e){var t=e.text,n=e.dashText,h=e.open,j=e.setOpen,m=e.rows;return Object(S.jsxs)(a.a,{style:{paddingBottom:"10px",marginTop:-30},container:!0,justifyContent:"space-between",spacing:3,children:[Object(S.jsxs)(a.a,{item:!0,children:[Object(S.jsx)(o.a,{color:"textPrimary",variant:"h5",children:t}),Object(S.jsxs)(l.a,{"aria-label":"breadcrumb",separator:Object(S.jsx)(p.a,{fontSize:"small"}),sx:{mt:1},children:[Object(S.jsx)(c.a,{color:"textPrimary",component:s.b,to:"/dashboard/maindash",variant:"subtitle2",children:"Dashboard"}),Object(S.jsx)(o.a,{color:"textSecondary",variant:"subtitle2",children:n})]}),Object(S.jsxs)(r.a,{sx:{mb:-1,mx:-1,mt:1},children:[Object(S.jsx)(i.a,{color:"primary",startIcon:Object(S.jsx)(u.a,{fontSize:"small"}),sx:{m:1},children:"Import"}),Object(S.jsx)(i.a,{color:"primary",startIcon:Object(S.jsx)(d.a,{fontSize:"small"}),sx:{m:1},children:"Export"})]})]}),"Transport"===t&&Object(S.jsx)(a.a,{item:!0,children:Object(S.jsx)(r.a,{sx:{m:-1},children:Object(S.jsx)(T,{open:h,rows:m,setOpen:j})})})]})}},892:function(e,t,n){"use strict";var a=n(3),o=n(4),r=n(2),i=n(1),l=n(43),c=n(50),s=n(495),u=n(315),d=n(5),p=n(12),h=n(0);function j(e,t){var n=i.Children.toArray(e).filter(Boolean);return n.reduce((function(e,a,o){return e.push(a),o<n.length-1&&e.push(i.cloneElement(t,{key:"separator-".concat(o)})),e}),[])}function m(e){var t,n=e.values,a=e.base,o=Object.keys(a);return 0===o.length?n:o.reduce((function(e,a){return e[a]="object"===typeof n?null!=n[a]?n[a]:n[t]:n,t=a,e}),{})}var b=Object(d.a)("div",{},{name:"Stack"})((function(e){var t=e.styleProps,n=e.theme,o=Object(r.a)({display:"flex"},Object(l.b)({theme:n},t.direction,(function(e){return{flexDirection:e}})));if(t.spacing){var i=Object(c.a)(n),s=Object.keys(n.breakpoints.values).reduce((function(e,n){return null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e}),{}),d=m({values:t.direction,base:s}),p=m({values:t.spacing,base:s});o=Object(u.a)(o,Object(l.b)({theme:n},p,(function(e,n){return{"& > :not(style) + :not(style)":Object(a.a)({margin:0},"margin".concat((o=n?d[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o])),Object(c.d)(i,e))};var o})))}return o})),x=i.forwardRef((function(e,t){var n=Object(p.a)({props:e,name:"MuiStack"}),a=Object(s.a)(n),i=a.component,l=void 0===i?"div":i,c=a.direction,u=void 0===c?"column":c,d=a.spacing,m=void 0===d?0:d,x=a.divider,f=a.children,O=Object(o.a)(a,["component","direction","spacing","divider","children"]),v={direction:u,spacing:m};return Object(h.jsx)(b,Object(r.a)({as:l,styleProps:v,ref:t},O,{children:x?j(f,x):f}))}));t.a=x}}]);
//# sourceMappingURL=61.310c9a93.chunk.js.map