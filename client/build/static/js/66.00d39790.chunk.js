(this["webpackJsonp@School-managment-system"]=this["webpackJsonp@School-managment-system"]||[]).push([[66],{1255:function(e,a,t){"use strict";var n=t(561),r=(t(1),t(0));a.a=function(e){var a=e.autoFocus,t=void 0!==a&&a,l=e.error,i=e.helperText,c=e.id,o=e.label,s=e.variant,d=e.onBlur,u=e.value,b=e.onChange,j=e.autocomplete;return Object(r.jsx)(n.a,{autoComplete:"of",autocomplete:j,autoFocus:t,error:l,helperText:i,id:c,label:o,variant:s,value:u,onBlur:d,onChange:b})}},1691:function(e,a,t){"use strict";t.r(a);var n=t(28),r=t(18),l=t(9),i=t.n(l),c=t(16),o=t(14),s=t(575),d=t(181),u=t(564),b=t(565),j=t(553),h=t(577),m=t(561),x=t(568),p=t(572),O=t(880),v=t(108),f=t(58),g=t(1),y=t.n(g),S=t(645),C=t(647),w=t(500),B=t(663),R=t(502),T=t(22),N=t(220),I=t(616),z=t(602),k=t(598),F=t(1201),D=t(1234),P=t(1212),A=t(3),E=t(701),V=t(702),L=t(1255),M=(t(45),t(36)),W=t(607),H=t(0),J=Object(S.a)((function(e){return{root:{"& > *":Object(A.a)({margin:e.spacing(1),width:"25ch"},"margin","17px")},typography:{padding:"17px"},head:{height:"100vh",paddingLeft:30,paddingRight:30,paddingTop:10,background:"none"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,padding:"17px"}:{color:e.palette.text.primary,padding:"17px"}}})),q=[{value:"male",label:"0"},{value:"Female",label:"1"},{value:"Other",label:"2"}],G=[{value:"Permanent",label:"0"},{label:"1",value:"Temporary"},{label:"2",value:"On Contract"}],U=[{value:"Islam",label:"0"},{value:"Hindu",label:"1"},{value:"Cristion",label:"2"}],_=[{value:"BS",label:"0"},{value:"Master",label:"1"},{value:"Phd",label:"2"}],K=[{value:"Teacher",label:"0"},{value:"Principle",label:"1"},{value:"Admin",label:"2"}],Q=function(e){var a=e.close,t=J();return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(v.c,{enableReinitialize:!0,initialValues:{id:"",staffid:"",role:"",firstName:"",fname:"",motherName:"",gender:"",email:"",dob:"",joningDate:"",phone:"",maritalStatus:"",CNIC:"",qualification:"",workExperince:"",religion:"",epfNo:"",baiscSalery:"",workShift:"",contractType:"",location:"",payScal:"",address1:"",address2:"",zipcode:"",permanentAddress:""},validationSchema:f.f().shape({email:f.h().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:function(){var e=Object(c.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return alert(JSON.stringify(a,null,2)),e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:return t=Object(r.a)({},a),console.log(t),e.next=7,Object(W.a)().post("http://localhost:8000/teacher/addupdate",Object(r.a)({},t)).then((function(e){e.json})).catch((function(e){console.log(e)}));case 7:M.b.success("Add SuccessFully"),navigate("../teachers");case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,r=e.handleBlur,l=e.handleChange,i=e.handleSubmit,c=e.isSubmitting,o=e.touched,s=e.values,d=e.dirty,x=e.handleReset;return Object(H.jsx)("div",{children:Object(H.jsxs)("form",{onSubmit:i,children:[Object(H.jsxs)("div",{className:t.root,children:[Object(H.jsx)(L.a,{autoFocus:!0,error:Boolean(o.id&&n.id),helperText:o.id&&n.id,id:"id",label:"Staff ID",variant:"outlined",value:s.id,onBlur:r,onChange:l}),Object(H.jsxs)(u.a,{children:[Object(H.jsx)(b.a,{id:"role",children:"Select Roll"}),Object(H.jsx)(j.a,{labelId:"role",value:s.role,onChange:l,id:"role",label:"Select Roll",name:"role",children:K.map((function(e){return Object(H.jsx)(h.a,{value:e.value,children:e.value},e.label)}))})]}),Object(H.jsxs)(u.a,{children:[Object(H.jsx)(b.a,{id:"role",children:"Designationl"}),Object(H.jsx)(j.a,{labelId:"role",value:s.role,onChange:l,id:"role",label:"Designation",name:"role",children:K.map((function(e){return Object(H.jsx)(h.a,{value:e.value,children:e.value},e.label)}))})]}),Object(H.jsxs)(u.a,{children:[Object(H.jsx)(b.a,{id:"role",children:"Department"}),Object(H.jsx)(j.a,{labelId:"role",value:s.role,onChange:l,id:"role",label:"Department",name:"role",children:K.map((function(e){return Object(H.jsx)(h.a,{value:e.value,children:e.value},e.label)}))})]}),Object(H.jsx)(L.a,{autoFocus:!0,error:Boolean(o.name&&n.name),helperText:o.name&&n.name,id:"name",label:"First Name",variant:"outlined",value:s.name,onBlur:r,onChange:l})," ",Object(H.jsx)(L.a,{error:Boolean(o.fatherName&&n.fatherName),helperText:o.fatherName&&n.fatherName,id:"fatherName",label:"Father Name",variant:"outlined",value:s.fatherName,onBlur:r,onChange:l}),Object(H.jsxs)(u.a,{children:[Object(H.jsx)(b.a,{id:"gender",children:"Gender"}),Object(H.jsx)(j.a,{labelId:"gender",value:s.gender,onChange:l,id:"gender",label:"Gender",name:"gender",children:q.map((function(e){return Object(H.jsx)(h.a,{value:e.value,children:e.value},e.label)}))})]}),Object(H.jsx)(L.a,{error:Boolean(o.idno&&n.idno),helperText:o.idno&&n.idno,id:"idno",label:"CNIC No",variant:"outlined",value:s.idno,onBlur:r,onChange:l}),Object(H.jsx)(m.a,{error:Boolean(o.dob&&n.dob),helperText:o.dob&&n.dob,id:"dob",value:s.dob,label:"Date of Birth",type:"date",variant:"outlined",onBlur:r,onChange:l}),Object(H.jsx)(m.a,{error:Boolean(o.dojoining&&n.dojoining),helperText:o.dojoining&&n.dojoining,id:"dojoining",value:s.dojoining,label:"Date of Joining",type:"date",variant:"outlined",onBlur:r,onChange:l}),Object(H.jsxs)(u.a,{children:[Object(H.jsx)(b.a,{id:"degree",children:"Degree"}),Object(H.jsx)(j.a,{labelId:"degree",id:"degree",label:"Degree",value:s.degree,onChange:l,name:"degree",children:_.map((function(e){return Object(H.jsx)(h.a,{value:e.value,children:e.value},e.label)}))})]}),Object(H.jsx)(L.a,{error:Boolean(o.BasicSalery&&n.BasicSalery),helperText:o.BasicSalery&&n.BasicSalery,id:"BasicSalery",label:"Basic Salery",variant:"outlined",type:"number",onBlur:r,onChange:l,value:s.BasicSalery}),Object(H.jsxs)(u.a,{children:[Object(H.jsx)(b.a,{id:"Contract type",children:"Contract type"}),Object(H.jsx)(j.a,{labelId:"contractType",value:s.contractType,onChange:l,id:"contractType",label:"Contract type",name:"contractType",children:G.map((function(e){return Object(H.jsx)(h.a,{value:e.value,children:e.value},e.label)}))})]})," ",Object(H.jsxs)(u.a,{children:[Object(H.jsx)(b.a,{id:"religion",children:"Religion"}),Object(H.jsx)(j.a,{labelId:"religion",value:s.religion,onChange:l,id:"religion",label:"Religion",name:"religion",children:U.map((function(e){return Object(H.jsx)(h.a,{value:e.value,children:e.value},e.label)}))})]}),Object(H.jsx)(L.a,{error:Boolean(o.phone&&n.phone),helperText:o.phone&&n.phone,id:"phone",label:"Phone",variant:"outlined",type:"number",onBlur:r,onChange:l,value:s.phone}),Object(H.jsx)(L.a,{error:Boolean(o.email&&n.email),fullWidth:!0,helperText:o.email&&n.email,id:"email",label:"E-mail ",margin:"normal",name:"email",onBlur:r,onChange:l,type:"email",value:s.email,variant:"outlined"}),Object(H.jsx)(L.a,{error:Boolean(o.address&&n.address),helperText:o.address&&n.address,id:"address",label:"Address",size:"medium",value:s.address,variant:"outlined",onBlur:r,onChange:l})]}),Object(H.jsx)(E.a,{text:"Save",variant:"contained",size:"medium",color:"success",type:"submit",disabled:c}),Object(H.jsx)(V.a,{text:"Reset",variant:"contained",size:"medium",color:"primary",disableElevation:!0,onClick:x,disabled:!d||c}),Object(H.jsx)(p.a,{style:{margin:"17px"},variant:"contained",size:"medium",color:"error",onClick:a,children:"Close"})]})})}})})},X=function(e){var a=e.open,t=e.close;return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(F.a,{open:a,onClose:t,maxWidth:"lg",fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(H.jsx)(P.a,{id:"alert-dialog-title",children:"Register Staff"}),Object(H.jsx)(D.a,{children:Object(H.jsx)(Q,{close:t})})]})})},Y=Object(S.a)((function(e){return{root:{width:"100%"},padd:{PaddingTop:"30px",paddingBottom:"10px",paddingLeft:30},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),Z=function(e){var a=e.title,t=e.title2,n=Y(),r=y.a.useState(!1),l=Object(o.a)(r,2),i=l[0],c=l[1];return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(C.a,{className:n.padd,container:!0,justifyContent:"space-between",spacing:3,children:[Object(H.jsxs)(C.a,{item:!0,children:[Object(H.jsx)(w.a,{style:{paddingTop:"20px"},color:"textPrimary",variant:"h5"}),Object(H.jsxs)(B.a,{"aria-label":"breadcrumb",separator:Object(H.jsx)(N.a,{fontSize:"small"}),sx:{mt:1},children:[Object(H.jsx)(R.a,{color:"textPrimary",component:T.b,to:"/dashboard/maindash",variant:"subtitle2",children:"Dashboard"}),Object(H.jsx)(R.a,{color:"textPrimary",component:T.b,to:"/dashboard/teachers",variant:"subtitle2",children:a}),Object(H.jsx)(w.a,{color:"textSecondary",variant:"subtitle2",children:t})]}),Object(H.jsxs)(d.a,{sx:{mb:-1,mx:-1,mt:1},children:[Object(H.jsx)(p.a,{color:"primary",startIcon:Object(H.jsx)(z.a,{fontSize:"small"}),sx:{m:1},children:"Import"}),Object(H.jsx)(p.a,{color:"primary",startIcon:Object(H.jsx)(k.a,{fontSize:"small"}),sx:{m:1},children:"Export"})]})]}),Object(H.jsx)(C.a,{item:!0,children:Object(H.jsx)(d.a,{sx:{m:-1},children:Object(H.jsx)(p.a,{color:"primary",startIcon:Object(H.jsx)(I.a,{fontSize:"small"}),sx:{m:1,mt:5},variant:"contained",onClick:function(){M.b.error("It will be soon added"),c(!1)},children:"Register Staff"})})})]}),Object(H.jsx)(X,{open:i,close:function(){c(!1)}})]})},$=t(754),ee=t(560),ae=t(581),te=t(582),ne=t(583),re=t(584),le=t(585),ie=t(1222),ce=t(569),oe=t(891),se=t(580),de=t(96),ue=Object(S.a)({table:{minWidth:650}}),be=function(e){var a=e.rows,t=e.onComplete,n=e.attendanceRecord,r=ue();return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(v.c,{initialValues:{picked:[],submit:null},validationSchema:f.f().shape({}),onSubmit:function(){var e=Object(c.a)(i.a.mark((function e(a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setErrors,n.setStatus,r=n.setSubmitting,e.next=3,Object(de.a)(2e3);case 3:r(!1);try{t&&t()}catch(a){console.error(a),r(!1)}case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),children:function(e){e.errors,e.handleBlur,e.handleChange;var t=e.handleSubmit,l=e.isSubmitting;e.setFieldValue,e.setFieldTouched,e.touched,e.values;return Object(H.jsx)("form",{onSubmit:t,children:Object(H.jsxs)(s.a,{sx:{p:3},children:[Object(H.jsx)($.a,{sx:{mt:2},component:ee.a,children:Object(H.jsxs)(ae.a,{className:r.table,"aria-label":"simple table",children:[Object(H.jsx)(te.a,{children:Object(H.jsxs)(ne.a,{children:[Object(H.jsx)(re.a,{children:"Name"}),Object(H.jsx)(re.a,{colSpan:1,children:"Roll"}),Object(H.jsx)(re.a,{colSpan:1,children:"Attendence"})]})}),Object(H.jsx)(le.a,{children:a.length>0?a.map((function(e){return Object(H.jsxs)(ne.a,{children:[Object(H.jsx)(re.a,{component:"th",children:e.first_name}),Object(H.jsx)(re.a,{children:e.Roles}),Object(H.jsx)(re.a,{children:Object(H.jsx)(u.a,{children:Object(H.jsxs)(ie.a,{row:!0,"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"1",name:"radio-buttons-group",children:[Object(H.jsx)(ce.a,{value:"present",onChange:function(){n(e,"1")},name:"present",control:Object(H.jsx)(oe.a,{}),label:"Present"}),Object(H.jsx)(ce.a,{name:"absent",value:"absent",onChange:function(){n(e,"2")},control:Object(H.jsx)(oe.a,{}),label:"Absent"}),Object(H.jsx)(ce.a,{value:"3",name:"late",onChange:function(){n(e,"3")},control:Object(H.jsx)(oe.a,{}),label:"Late"})," ",Object(H.jsx)(ce.a,{value:"leave",onChange:function(){n(e,"4")},name:"leave",control:Object(H.jsx)(oe.a,{}),label:"Leave"})]})})})]},e.name)})):Object(H.jsxs)(ne.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:["Data Not Found"," "]})})]})}),Object(H.jsxs)(d.a,{sx:{display:"flex",mt:6},children:[Object(H.jsx)(d.a,{sx:{flexGrow:1}}),Object(H.jsx)(p.a,{startIcon:l?Object(H.jsx)(se.a,{size:"1rem"}):null,color:"primary",disabled:l,type:"submit",variant:"contained",children:l?" Saving Attendence":"Save Attendence"})]})]})})}})})},je=t(120),he=[{id:1,Name:"Teacher"},{id:1,Name:"Admin"},{id:1,Name:"Principle"}];a.default=function(){var e=Object(g.useRef)(),a=Object(g.useState)([]),t=Object(o.a)(a,2),l=t[0],y=t[1],S=Object(g.useState)([]),C=Object(o.a)(S,2),w=C[0],B=C[1],R=Object(g.useState)({}),T=Object(o.a)(R,2),N=T[0],I=T[1],z=function(){var e=Object(c.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.a.getCall("teacher/teachers/api");case 2:a=e.sent,y(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){z()}),[]);var k=function(){var e=Object(c.a)(i.a.mark((function e(){var a,t,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(r.a)({},N),console.log(a),0!==Object.keys(a).length){e.next=4;break}return e.abrupt("return",M.b.error("Plz Select the correct Date and then click on Next "));case 4:return t=Object(n.a)(w),l=Object(r.a)(Object(r.a)({},a),{},{attendence_list:Object(n.a)(t)}),e.next=8,je.a.postCall("attendence/staff/attendence/post",Object(r.a)({},l)).then((function(e){403===e.status?M.b.success("Attendence Update On ".concat(N.date)):M.b.success("Attendence Taken On Date ".concat(N.date," "))})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(w),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Z,{title:"All Teacher Data",title2:"Staff Attendence"}),Object(H.jsx)(v.c,{initialValues:{teacherRole:"",date:new Date},validationSchema:f.f().shape({date:f.d().required(" Enter Date value")}),innerRef:e,onSubmit:function(){var e=Object(c.a)(i.a.mark((function e(a,t){var n,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.setErrors,l=t.setStatus,c=t.setSubmitting;try{I(Object(r.a)({},a))}catch(i){console.error(i),l({success:!1}),n({submit:i.message}),c(!1)}case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),children:function(e){var a=e.errors,t=(e.handleBlur,e.handleChange),n=e.handleSubmit,l=e.isSubmitting,i=e.setFieldValue,c=e.setFieldTouched,o=e.touched,v=e.values;return Object(H.jsx)("form",{onSubmit:n,children:Object(H.jsx)(s.a,{sx:{p:3},children:Object(H.jsxs)(d.a,{sx:{mt:2},children:[Object(H.jsxs)(u.a,{style:{marginRight:8,width:"20%"},children:[Object(H.jsx)(b.a,{id:"teacherRole",children:"Role"}),Object(H.jsx)(j.a,{fullWidth:!0,labelId:"teacherRole",value:v.teacherRole,onChange:t,id:"teacherRole",label:"Role",name:"teacherRole",children:he.map((function(e){return Object(H.jsx)(h.a,{value:e.id,children:e.Name},e.id)}))})]}),Object(H.jsx)(O.a,{fullwidth:!0,label:"Date",onAccept:function(){return c("date")},onChange:function(e){return i("date",e.toLocaleDateString())},inputFormat:"yyyy/MM/dd",onClose:function(){return c("date")},renderInput:function(e){return Object(H.jsx)(m.a,Object(r.a)({variant:"outlined"},e))},value:v.date}),Boolean(o.date&&a.date)&&Object(H.jsx)(d.a,{sx:{mt:2},children:Object(H.jsx)(x.a,{error:!0,children:a.date})}),Object(H.jsx)(p.a,{sx:{mt:1,mr:2,ml:2},color:"primary",disabled:l,type:"submit",variant:"contained",children:"Next"})]})})})}}),Object(H.jsx)(be,{rows:l,attendanceRecord:function(e,a){var t=Object(n.a)(w),l={TeacherId:e.staff_id,absentPresent:a},i=t.findIndex((function(a){return a.TeacherId==e.id}));i>=0?t[i]=l:t.push(Object(r.a)({},l)),B(t)},onComplete:k})]})}},598:function(e,a,t){"use strict";var n=t(20),r=t(0),l=Object(n.a)(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download");a.a=l},602:function(e,a,t){"use strict";var n=t(20),r=t(0),l=Object(n.a)(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload");a.a=l},607:function(e,a,t){"use strict";var n=t(45),r=t.n(n),l=(t(96),JSON.parse(localStorage.getItem("accessToken")));a.a=function(){var e=r.a.create({baseURL:"http://localhost:8000/",headers:{authorization:"bearer ".concat(l)}});return e.interceptors.response.use((function(e){return new Promise((function(a,t){a(e)}))}),(function(e){return e.response?(401==e.response.status&&console.log("your are not logedin"),Promise.reject(e)):new Promise((function(a,t){t(e)}))})),e}},616:function(e,a,t){"use strict";var n=t(20),r=t(0),l=Object(n.a)(Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Plus");a.a=l},701:function(e,a,t){"use strict";t(1);var n=t(572),r=t(0);a.a=function(e){var a=e.variant,t=e.size,l=e.color,i=e.disabled,c=(e.handleClose,e.text),o=e.type;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(n.a,{style:{margin:"17px"},variant:a,size:t,color:l,type:o,disabled:i,children:c})})}},702:function(e,a,t){"use strict";t(1);var n=t(572),r=t(0);a.a=function(e){var a=e.variant,t=e.size,l=e.color,i=e.disableElevation,c=e.text,o=e.disabled,s=e.onClick;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(n.a,{style:{margin:"17px"},variant:a,size:t,color:l,disableElevation:i,disabled:o,onClick:s,children:c})})}}}]);
//# sourceMappingURL=66.00d39790.chunk.js.map