(this["webpackJsonp@School-managment-system"]=this["webpackJsonp@School-managment-system"]||[]).push([[80],{1700:function(e,t,a){"use strict";a.r(t);var n=a(28),c=a(9),s=a.n(c),r=a(18),i=a(16),l=a(14),o=a(1),d=a(181),u=a(501),j=a(647),b=a(500),x=a(663),m=a(502),h=a(572),O=a(132),p=a(22),f=a(220),v=a(602),S=a(598),g=a(133),w=(a(45),a(58)),y=a(564),C=a(565),k=a(553),N=a(577),G=a(645),R=a(108),E=a(631),L=a(86),P=a(575),F=a(644),I=a(573),z=a(581),V=a(585),W=a(584),B=a(754),D=a(582),T=a(583),A=a(0),_=Object(G.a)({table:{minWidth:650}}),H=function(e){var t=_(),a=e.student,n=e.studentRecord,c=(e.setSelectedStudents,e.onSave),u=Object(L.a)(e,["student","studentRecord","setSelectedStudents","onSave"]),j=Object(o.useState)(null),b=Object(l.a)(j,2);b[0],b[1];return Object(A.jsx)(R.c,{initialValues:{submit:null},validationSchema:w.f().shape({}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(t,a){var n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.setErrors,r=a.setStatus,i=a.setSubmitting;try{c&&(c(),r({success:!0}),i(!1))}catch(t){console.error(t),r({success:!1}),n({submit:t.message}),i(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){e.errors,e.handleBlur,e.handleChange;var c=e.handleSubmit,s=e.isSubmitting;e.setFieldValue,e.setFieldTouched,e.touched,e.values;return Object(A.jsx)("form",Object(r.a)(Object(r.a)({onSubmit:c},u),{},{children:Object(A.jsxs)(P.a,{sx:{p:3},children:[Object(A.jsx)(I.a,{}),Object(A.jsx)(B.a,{children:Object(A.jsxs)(z.a,{className:t.table,"aria-label":"simple table",children:[Object(A.jsx)(D.a,{children:Object(A.jsxs)(T.a,{children:[Object(A.jsxs)(W.a,{children:[" ",Object(A.jsx)(F.a,{role:"checkbox",hover:"true",onChange:function(){n(a)},inputProps:{"aria-labelledby":"primary checkbox"}})]}),Object(A.jsx)(W.a,{children:"Roll No"}),Object(A.jsx)(W.a,{colSpan:1,children:"Student Name"}),Object(A.jsx)(W.a,{colSpan:1,children:"Class"}),Object(A.jsx)(W.a,{colSpan:1,children:"Section"}),Object(A.jsx)(W.a,{colSpan:1,children:"Father Name"}),Object(A.jsx)(W.a,{children:"Gender"})]})}),Object(A.jsx)(V.a,{children:a.length>0?a.map((function(e){return Object(A.jsxs)(T.a,{children:[Object(A.jsx)(W.a,{children:Object(A.jsx)(F.a,{role:"checkbox",hover:"true",value:e,onChange:function(){n(e)},inputProps:{"aria-labelledby":"primary checkbox"}})}),Object(A.jsx)(W.a,{component:"th",children:e.rollno}),Object(A.jsx)(W.a,{children:"".concat(e.name)}),Object(A.jsx)(W.a,{children:e.class}),Object(A.jsx)(W.a,{children:e.section}),Object(A.jsx)(W.a,{children:e.fname}),Object(A.jsx)(W.a,{children:e.gender})]},e.id)})):null})]})}),Object(A.jsxs)(d.a,{style:{display:"flex",justifyContent:"flex-end",marginTop:10},children:[Object(A.jsx)(d.a,{sx:{flexGrow:1}}),Object(A.jsx)(h.a,{color:"primary",disabled:s,type:"submit",variant:"contained",children:"Save"})]})]})}))}})},J=a(120),M=Object(G.a)({table:{minWidth:700},hedds:{width:"20%",margin:"8px 10px",display:"inline-block",border:"1px solid #ccc",borderRadius:"4px"},feild:{width:"20%",marginLeft:8},feilds:{width:"20%",marginLeft:8,marginBottom:10}}),U=function(e){var t=e.allStudentAttendence,a=e.setexamFeild,n=e.student,c=e.onSave,r=e.studentRecord,u=M(),j=Object(o.useState)([]),b=Object(l.a)(j,2),x=b[0],m=b[1],O=Object(o.useState)([]),p=Object(l.a)(O,2),f=p[0],v=p[1],S=Object(o.useState)([]),g=Object(l.a)(S,2),G=g[0],L=g[1],P=Object(o.useState)([]),F=Object(l.a)(P,2),I=F[0],z=F[1];return console.log(f),Object(o.useEffect)(Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.getCall("exams/examsgroup");case 2:return t=e.sent,m(t),e.next=6,J.a.getCall("exams/examsName");case 6:a=e.sent,v(a),Object(E.a)("class/api").then((function(e){L(e)})),Object(E.a)("class/api/section").then((function(e){z(e)}));case 12:case"end":return e.stop()}}),e)}))),[]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(R.c,{initialValues:{examsGroup:"",examsName:"",classid:"",sectionid:""},validationSchema:w.f().shape({}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(n,c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.setErrors,c.setStatus,c.setSubmitting,a(n),t(n);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){e.errors,e.handleBlur;var t=e.handleChange,a=e.handleSubmit,n=e.isSubmitting,c=(e.setFieldValue,e.setFieldTouched,e.touched,e.values);return Object(A.jsx)("form",{onSubmit:a,children:Object(A.jsxs)(d.a,{sx:{mt:2},children:[Object(A.jsxs)(y.a,{className:u.feilds,children:[Object(A.jsx)(C.a,{id:"examsGroup",children:"Exams Group"}),Object(A.jsx)(k.a,{fullWidth:!0,labelId:"examsGroup",value:c.examsGroup,onChange:t,id:"examsGroup",label:"exams Group",name:"examsGroup",children:x.map((function(e){return Object(A.jsx)(N.a,{value:e.id,children:e.name},e.id)}))})]}),Object(A.jsxs)(y.a,{className:u.feilds,children:[Object(A.jsx)(C.a,{id:"examsName",children:"Exams Name"}),Object(A.jsx)(k.a,{fullWidth:!0,labelId:"examsName",value:c.examsName,onChange:t,id:"examsName",label:"exams Name",name:"examsName",children:f.map((function(e){return Object(A.jsx)(N.a,{value:e.id,children:e.name},e.id)}))})]}),Object(A.jsxs)(y.a,{className:u.feild,children:[Object(A.jsx)(C.a,{id:"classid",children:"Department/Class"}),Object(A.jsx)(k.a,{fullWidth:!0,labelId:"classid",value:c.classid,onChange:t,id:"classid",label:"Department/Class",name:"classid",children:G.map((function(e){return Object(A.jsx)(N.a,{value:e.id,children:e.className},e.id)}))})]}),Object(A.jsxs)(y.a,{className:u.feild,children:[Object(A.jsx)(C.a,{id:"sectionid",children:"Section"}),Object(A.jsx)(k.a,{fullWidth:!0,labelId:"sectionid",value:c.sectionid,onChange:t,id:"sectionid",label:"Section",name:"sectionid",children:I.map((function(e){return Object(A.jsx)(N.a,{value:e.id,children:e.name},e.id)}))})]}),Object(A.jsx)(h.a,{sx:{mt:1,mr:2,ml:2},color:"primary",disabled:n,type:"submit",variant:"contained",children:"Search"})]})})}}),Object(A.jsx)(H,{studentRecord:r,onSave:c,student:n})]})},q=a(36),K=a(96);t.default=function(){var e=Object(g.a)().settings,t=Object(o.useState)([]),a=Object(l.a)(t,2),c=a[0],w=a[1],y=Object(o.useState)({}),C=Object(l.a)(y,2),k=C[0],N=C[1],G=Object(o.useState)([]),R=Object(l.a)(G,2),E=R[0],L=R[1],P=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.getCalls("attendence/api/attendence",{params:Object(r.a)({},t)});case 2:a=e.sent,w(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(s.a.mark((function e(){var t,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("save"),t=Object(r.a)({},k),a=Object(n.a)(E),c=Object(r.a)(Object(r.a)({},t),{},{studentList:Object(n.a)(a)}),!t||""!=a){e.next=11;break}return q.b.loading("please Select Student"),e.next=8,Object(K.a)(2e3);case 8:q.b.dismiss(),e.next=19;break;case 11:return e.prev=11,e.next=14,J.a.postCall("exams/examsToStudent",Object(r.a)({},c)).then((function(e){200==e.status&&q.b.success(e.message)}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.log(e.t0);case 19:console.log(c);case 20:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(O.a,{children:Object(A.jsx)("title",{children:"Dashboard: Examination "})}),Object(A.jsxs)(d.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:1},children:[Object(A.jsx)(u.a,{maxWidth:!!e.compact&&"xl",children:Object(A.jsx)(j.a,{container:!0,justifyContent:"space-between",spacing:3,children:Object(A.jsxs)(j.a,{item:!0,children:[Object(A.jsx)(b.a,{color:"textPrimary",variant:"h5",children:"Assign Exams"}),Object(A.jsxs)(x.a,{"aria-label":"breadcrumb",separator:Object(A.jsx)(f.a,{fontSize:"small"}),sx:{mt:1},children:[Object(A.jsx)(m.a,{color:"textPrimary",component:p.b,to:"/dashboard",variant:"subtitle2",children:"Dashboard"}),Object(A.jsx)(m.a,{color:"textPrimary",component:p.b,to:"/dashboard/examsGroup",variant:"subtitle2",children:"Exam Group List"}),Object(A.jsx)(m.a,{color:"textPrimary",component:p.b,to:"/dashboard/examsList",variant:"subtitle2",children:"Exam List"}),Object(A.jsx)(b.a,{color:"textSecondary",children:"Assign Student"}),Object(A.jsx)(m.a,{color:"textPrimary",component:p.b,to:"/dashboard",variant:"subtitle2",children:"Exams Subjects"})]}),Object(A.jsxs)(d.a,{sx:{mb:-1,mx:-1,mt:1},children:[Object(A.jsx)(h.a,{color:"primary",startIcon:Object(A.jsx)(v.a,{fontSize:"small"}),sx:{m:1},variant:"text",children:"Import"}),Object(A.jsx)(h.a,{color:"primary",startIcon:Object(A.jsx)(S.a,{fontSize:"small"}),sx:{m:1},variant:"text",children:"Export"})]})]})})}),Object(A.jsx)(U,{setexamFeild:N,studentRecord:function(e){console.log("stu",e);var t=Object(n.a)(E),a={addmission_id:e.addid,Student_id:e.id,class:e.class,section:e.section,student_name:e.name,father_name:e.fname,gender:e.gender,rollno:e.rollno},c=t.findIndex((function(t){return t.rollno==e.rollno}));c>=0?t[c]=a:t.push(Object(r.a)({},a)),console.log(c),L(t)},student:c,onSave:F,allStudentAttendence:P})]})]})}},598:function(e,t,a){"use strict";var n=a(20),c=a(0),s=Object(n.a)(Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(c.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download");t.a=s},602:function(e,t,a){"use strict";var n=a(20),c=a(0),s=Object(n.a)(Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(c.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload");t.a=s},606:function(e,t,a){"use strict";a(18),a(607)},607:function(e,t,a){"use strict";var n=a(45),c=a.n(n),s=(a(96),JSON.parse(localStorage.getItem("accessToken")));t.a=function(){var e=c.a.create({baseURL:"http://localhost:8000/",headers:{authorization:"bearer ".concat(s)}});return e.interceptors.response.use((function(e){return new Promise((function(t,a){t(e)}))}),(function(e){return e.response?(401==e.response.status&&console.log("your are not logedin"),Promise.reject(e)):new Promise((function(t,a){a(e)}))})),e}},631:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(9),c=a.n(n),s=a(16),r=(a(45),a(120)),i=(a(606),function(){var e=Object(s.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getCall("".concat(t));case 2:return a=e.sent,e.next=5,a;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=80.60d870df.chunk.js.map