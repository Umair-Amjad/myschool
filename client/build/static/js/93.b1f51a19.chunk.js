(this["webpackJsonp@School-managment-system"]=this["webpackJsonp@School-managment-system"]||[]).push([[93],{1647:function(e,n,t){"use strict";t.r(n);var a=t(18),r=t(28),l=t(9),i=t.n(l),o=t(16),c=t(14),d=t(1),s=t(575),u=t(647),j=t(500),b=t(1698),m=t(1728),f=t(1688),h=t(572),p=t(561),O=t(564),x=t(565),v=t(553),g=t(577),C=t(181),N=t(1200),I=t(576),y=t(645),W=t(1280),F=t(631),E=t(26),P=(t(96),t(120)),_=(t(36),t(45),t(0)),S=Object(y.a)((function(e){return{button:{marginRight:e.spacing(1)}}}));var w=[{label:"Father",value:"father"},{label:"Mother",value:"mother"},{label:"Other",value:"other"}],k=[{value:"0",label:"Islam"},{value:"1",label:"Hindu"},{value:"2",label:"Cristion"}],A=[{label:"male",value:"0"},{label:"Female",value:"1"},{label:"Other",value:"2"}],R=function(e){var n=e.sectionobj,t=e.classObj,r=Object(W.d)(),l=r.control,i=r.formState.errors;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(W.a,{control:l,name:"firstName",rules:{required:"this field is required."},render:function(e){var n,t=e.field;return Object(_.jsx)(p.a,Object(a.a)(Object(a.a)({id:"firstName",label:"Name",variant:"outlined",placeholder:"Enter Your  Name",fullWidth:!0,margin:"normal"},t),{},{error:Boolean(null===i||void 0===i?void 0:i.firstName),helperText:null===(n=i.firstName)||void 0===n?void 0:n.message}))}}),Object(_.jsx)(W.a,{control:l,name:"gender",rules:{required:!0},render:function(e){var n=e.field;return Object(_.jsxs)(O.a,{variant:"outlined",fullWidth:!0,margin:"normal",children:[Object(_.jsx)(x.a,{id:"demo-simple-select-outlined-label",children:"Gender"}),Object(_.jsx)(v.a,Object(a.a)(Object(a.a)({labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",label:"Gender"},n),{},{children:A.map((function(e){return Object(_.jsx)(g.a,{value:e.label,children:e.label},e.value)}))}))]})}}),Object(_.jsx)(W.a,{control:l,name:"rollno",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"rollno",label:"Rollno",variant:"outlined",placeholder:"Enter Your  Rollno",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:l,name:"dob",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"dob",type:"date",label:"Date of Birth",variant:"outlined",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:l,name:"admissiondate",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"admissiondate",type:"date",label:"Addmission date",variant:"outlined",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:l,name:"email",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"email",label:"E-mail",variant:"outlined",placeholder:"Enter Your E-mail",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:l,name:"phone",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"phone",label:"Phone",variant:"outlined",placeholder:"Enter Your  phone number",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:l,name:"studentCNIC",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"studentCNIC",label:"Student CNIC",variant:"outlined",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:l,name:"religion",render:function(e){var n=e.field;return Object(_.jsxs)(O.a,{variant:"outlined",fullWidth:!0,margin:"normal",children:[Object(_.jsx)(x.a,{id:"demo-simple-select-outlined-label-religion",children:"Religion"}),Object(_.jsx)(v.a,Object(a.a)(Object(a.a)({labelId:"demo-simple-select-outlined-label-religion",id:"demo-simple-select-outlined-religion",label:"Religion"},n),{},{children:k.map((function(e){return Object(_.jsx)(g.a,{value:e.label,children:e.label},e.value)}))}))]})}}),Object(_.jsx)(W.a,{control:l,name:"classid",render:function(e){var n=e.field;return Object(_.jsxs)(O.a,{variant:"outlined",fullWidth:!0,margin:"normal",children:[Object(_.jsx)(x.a,{id:"demo-simple-select-outlined-label",children:"Class"}),Object(_.jsx)(v.a,Object(a.a)(Object(a.a)({labelId:"demo-simple-select-outlined-label",id:"classid",label:"Class"},n),{},{children:t.map((function(e){return Object(_.jsx)(g.a,{value:e.id,children:e.className},e.id)}))}))]})}}),Object(_.jsx)(W.a,{control:l,name:"sectionid",render:function(e){var t=e.field;return Object(_.jsxs)(O.a,{variant:"outlined",fullWidth:!0,margin:"normal",children:[Object(_.jsx)(x.a,{id:"demo-simple-select-outlined-label-section",children:"Section"}),Object(_.jsx)(v.a,Object(a.a)(Object(a.a)({labelId:"demo-simple-select-outlined-label-section",id:"sectionid",label:"Section"},t),{},{children:n.map((function(e){return Object(_.jsx)(g.a,{value:e.id,children:e.name},e.id)}))}))]})}})]})},Y=function(){var e=Object(W.d)().control;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(W.a,{control:e,name:"relation",render:function(e){var n=e.field;return Object(_.jsxs)(O.a,{variant:"outlined",fullWidth:!0,margin:"normal",children:[Object(_.jsx)(x.a,{id:"demo-simple-select-outlined-label-relation",children:"Relation"}),Object(_.jsx)(v.a,Object(a.a)(Object(a.a)({labelId:"demo-simple-select-outlined-label-relation",id:"demo-simple-select-outlined-relation",label:"Gender"},n),{},{children:w.map((function(e){return Object(_.jsx)(g.a,{value:e.label,children:e.label},e.value)}))}))]})}}),Object(_.jsx)(W.a,{control:e,name:"fname",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"fname",label:"Father Name",variant:"outlined",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:e,name:"fatherCNIC",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"fatherCNIC",label:"Father CNIC",variant:"outlined",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:e,name:"fatherPhoneNumer",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"fatherPhoneNumer",label:"Father Phone Number",variant:"outlined",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:e,name:"foccupation",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"foccupation",label:"Father Accupation",variant:"outlined",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:e,name:"f_Email",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"f_Email",label:"E-mail",variant:"outlined",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:e,name:"designation",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"designation",label:"Phone Number",variant:"outlined",placeholder:"Enter Your Phone Number",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:e,name:"monthlyIncome",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"monthlyIncome",label:"Montlhy Income",variant:"outlined",placeholder:"Enter Your Alternate Phone",fullWidth:!0,margin:"normal"},n))}})]})},z=function(){var e=Object(W.d)().control;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(W.a,{control:e,name:"address1",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"address1",label:"Address 1",variant:"outlined",placeholder:"Enter Your Address 1",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:e,name:"address2",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"address2",label:"Address 2",variant:"outlined",placeholder:"Enter Your Address 2",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:e,name:"zipcode",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"zipcode",label:"Zip Code",variant:"outlined",placeholder:"Enter Your Country Name",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:e,name:"permanentAddress",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"permanentAddress",label:"Permanent Address",variant:"outlined",fullWidth:!0,margin:"normal"},n))}})]})},D=function(){var e=Object(W.d)().control;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(W.a,{control:e,name:"balance",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"balance",label:"Balance",variant:"outlined",fullWidth:!0,margin:"normal"},n))}}),Object(_.jsx)(W.a,{control:e,name:"discount",render:function(e){var n=e.field;return Object(_.jsx)(p.a,Object(a.a)({id:"discount",label:"Discount",variant:"outlined",fullWidth:!0,margin:"normal"},n))}})]})},B=function(){Object(W.d)().control;var e=Object(W.d)(),n=e.register,t=e.setValue,r=Object(d.useState)(null),l=Object(c.a)(r,2),i=l[0],o=l[1];return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(C.a,{children:Object(_.jsxs)(s.a,{children:[i?Object(_.jsx)(N.a,{component:"img",src:i,height:"200",alt:"Selected Image Preview"}):Object(_.jsx)(I.a,{children:Object(_.jsx)(j.a,{variant:"body1",children:"Select an Image to Preview"})}),Object(_.jsx)(I.a,{children:Object(_.jsxs)(h.a,{variant:"contained",component:"label",children:["Upload File",Object(_.jsx)("input",Object(a.a)(Object(a.a)({type:"file",hidden:!0},n("photo")),{},{onChange:function(e){var n=e.target.files[0];if(n){var a=new FileReader;a.onload=function(e){o(e.target.result),t("photo",n)},a.readAsDataURL(n)}}}))]})})]})})})};function M(e,n,t){switch(e){case 0:return Object(_.jsx)(R,{sectionobj:n,classObj:t});case 1:return Object(_.jsx)(Y,{});case 2:return Object(_.jsx)(z,{});case 3:return Object(_.jsx)(D,{});case 4:return Object(_.jsx)(B,{});default:return"unknown step"}}n.default=function(e){var n=Object(d.useState)([]),t=Object(c.a)(n,2),l=t[0],p=t[1],O=Object(d.useState)([]),x=Object(c.a)(O,2),v=x[0],g=x[1],C=Object(E.g)().state;Object(E.h)();if(console.log(C),null===C)var N={Balance:"",F_phone:"",FatherMonthly_income:"",Relation_with_father:"",addid:"",address1:"",address2:"",admissiondate:"",class:"",classid:"",dob:"",email:"",f_Email:"",faccupation:"",father_CNIC:"",fdesignation:"",fname:"",gender:"",id:"",name:"",permanent_adress:"",phone:"",religion:"",rollno:"",section:"",sectionid:"",studentCNIC:"",zipcode:"",photo:""};else{C.row;N=C.row}Object(d.useEffect)((function(){Object(F.a)("class/api").then((function(e){g(e)})),Object(F.a)("class/api/section").then((function(e){p(e)}))}),[]);var I=S(),y=Object(W.c)({defaultValues:{firstName:N.name||"",gender:N.gender||"",rollno:N.rollno||"",dob:N.dob||"",email:N.email||"",admissiondate:N.admissiondate||"",phone:N.phone||"",studentCNIC:N.studentCNIC||"",religion:N.religion||"",classid:N.classid||"",sectionid:N.sectionid||"",relation:N.Relation_with_father||"",fname:N.fname||"",fatherCNIC:N.father_CNIC||"",fatherPhoneNumer:N.F_phone||"",foccupation:N.faccupation||"",f_Email:N.f_Email||"",designation:N.fdesignation||"",monthlyIncome:N.FatherMonthly_income||"",address1:N.address1||"",address2:N.address2||"",zipcode:N.zipcode||"",permanentAddress:N.permanent_adress||"",balance:N.Balance||"",discount:N.discount||"",photo:N.student_image||"",submit:null}}),w=Object(d.useState)(0),k=Object(c.a)(w,2),A=k[0],R=k[1],Y=Object(d.useState)([]),z=Object(c.a)(Y,2),D=z[0],B=z[1],T=["Personal information","Parent Information","Personal Information","Fee Detail","Document"],q=function(e){return 1===e||2===e},G=function(e){return D.includes(e)},J=function(){var e=Object(o.a)(i.a.mark((function e(n){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A!=T.length-1){e.next=41;break}return(t=new FormData).append("photo",n.photo),t.append("firstName",n.firstName),t.append("gender",n.gender),t.append("rollno",n.rollno),t.append("dob",n.dob),t.append("email",n.email),t.append("admissiondate",n.admissiondate),t.append("phone",n.phone),t.append("studentCNIC",n.studentCNIC),t.append("religion",n.religion),t.append("classid",n.classid),t.append("sectionid",n.sectionid),t.append("relation",n.relation),t.append("fname",n.fname),t.append("fatherCNIC",n.fatherCNIC),t.append("fatherPhoneNumer",n.fatherPhoneNumer),t.append("foccupation",n.foccupation),t.append("f_Email",n.f_Email),t.append("designation",n.designation),t.append("monthlyIncome",n.monthlyIncome),t.append("address1",n.address1),t.append("address2",n.address2),t.append("zipcode",n.zipcode),t.append("permanentAddress",n.permanentAddress),t.append("balance",n.balance),t.append("discount",n.discount),t.append("id",N.id?N.id:""),e.prev=29,e.next=32,P.a.postFormData("list/addupdate",t);case 32:a=e.sent,console.log("res",a),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(29),console.log(e.t0);case 39:e.next=43;break;case 41:R(A+1),B(D.filter((function(e){return e!==A})));case 43:case"end":return e.stop()}}),e,null,[[29,36]])})));return function(n){return e.apply(this,arguments)}}();return Object(_.jsx)(s.a,{children:Object(_.jsxs)("div",{style:{padding:16},children:[Object(_.jsx)(u.a,{style:{paddingBottom:"10px",marginTop:5},container:!0,justifyContent:"center",spacing:3,children:Object(_.jsx)(j.a,{color:"textPrimary",variant:"h5",children:"Student Registration Forms"})}),Object(_.jsx)(b.a,{alternativeLabel:!0,activeStep:A,children:T.map((function(e,n){var t={},r={};return q(n)&&(t.optional=Object(_.jsx)(j.a,{variant:"caption",align:"center",style:{display:"block"},children:"optional"})),G(n)&&(r.completed=!1),Object(d.createElement)(m.a,Object(a.a)(Object(a.a)({},r),{},{key:n}),Object(_.jsx)(f.a,Object(a.a)(Object(a.a)({},t),{},{children:e})))}))}),A===T.length?Object(_.jsx)(j.a,{variant:"h3",align:"center",children:"Thank You"}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(W.b,Object(a.a)(Object(a.a)({},y),{},{children:Object(_.jsxs)("form",{onSubmit:y.handleSubmit(J),children:[M(A,l,v),Object(_.jsx)(h.a,{className:I.button,disabled:0===A,onClick:function(){R(A-1)},children:"back"}),q(A)&&Object(_.jsx)(h.a,{className:I.button,variant:"contained",color:"primary",onClick:function(){G(A)||B([].concat(Object(r.a)(D),[A])),R(A+1)},children:"skip"}),Object(_.jsx)(h.a,{className:I.button,variant:"contained",color:"primary",type:"submit",children:A===T.length-1?"Finish":"Next"})]})}))})]})})}},606:function(e,n,t){"use strict";t(18),t(607)},607:function(e,n,t){"use strict";var a=t(45),r=t.n(a),l=(t(96),JSON.parse(localStorage.getItem("accessToken")));n.a=function(){var e=r.a.create({baseURL:"http://localhost:8000/",headers:{authorization:"bearer ".concat(l)}});return e.interceptors.response.use((function(e){return new Promise((function(n,t){n(e)}))}),(function(e){return e.response?(401==e.response.status&&console.log("your are not logedin"),Promise.reject(e)):new Promise((function(n,t){t(e)}))})),e}},631:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var a=t(9),r=t.n(a),l=t(16),i=(t(45),t(120)),o=(t(606),function(){var e=Object(l.a)(r.a.mark((function e(n){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getCall("".concat(n));case 2:return t=e.sent,e.next=5,t;case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=93.b1f51a19.chunk.js.map